{"version":3,"sources":["redux/dialogsReducer.js","components/Nav/Nav.module.css","img/avatar.jpg","components/Loader.module.css","Api/Api.js","components/Nav/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/usersReducer.js","components/Users/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","App.js","redux/sidebarReducer.js","redux/redux-store.js","index.js","components/FriendsOnline/FriendsOnline.module.css","components/Common/FormsControl/FormsControl.module.css","components/Login/Login.module.css","components/Loader.jsx","components/Common/FormsControl/FormsControl.jsx","Utils/Validators/validators.js","components/Header/Header.module.css","components/Users/Users.module.css","components/Users/Paginator/Paginator.module.css","hoc/WithAuthRedirect.jsx","redux/profileReducer.js"],"names":["initialState","messagesData","id","message","dialogsData","name","addMessageActionCreator","msgValue","type","dialogsReducer","state","action","newMsg","module","exports","instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Nav","props","className","s","nav","item","to","activeClassName","active","News","Music","Settings","users","totalUsersCount","isFetching","followingInProgress","newPostText","setUsers","setCurrentPage","setTotalUsersCount","count","toggleIsFetching","toggleInFollowingProgress","usersReducer","map","user","followed","filter","Paginator","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagwrap","onClick","page","spanClass","selectedPage","e","onPageChanged","Users","key","src","photos","small","avatar","alt","disabled","some","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","Loader","React","Component","compose","WithAuthRedirect","connect","dispatch","resultCode","followSuccess","unfollowSuccess","items","totalCount","Header","header","loginBlock","isAuth","logoutBtn","SET_USER_DATA","setAuthUserData","payload","authMe","a","async","authReducer","HeaderContainer","auth","maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","authInput","placeholder","component","Input","validate","required","authRemember","error","style","form__summary__error","authBtn","messages","length","stopSubmit","_error","formData","init","appReducer","DialogsContainer","lazy","ProfileContainer","App","initializeApp","initialized","path","render","fallback","store","Login","withRouter","app","promise","Promise","all","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","lds_spinner","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLength","mapStateToPropsForRedirect","RedirectComponent","postData","likeCount","profile","addPostActionCreator","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","newPost","postId"],"mappings":"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","file":"static/js/main.e470e9ed.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\r\n\r\nlet initialState = {\r\n  messagesData: [\r\n    { id: 1, message: \"Hey whats up nigga\" },\r\n    { id: 2, message: \"Yo dude\" },\r\n    { id: 3, message: \"Hey, che kak?\" },\r\n    { id: 4, message: \"I am crazy lazy\" },\r\n    { id: 5, message: \"Yes, sure\" },\r\n  ],\r\n  dialogsData: [\r\n    { id: 1, name: \"Chris\" },\r\n    { id: 2, name: \"Dean\" },\r\n    { id: 3, name: \"Sam\" },\r\n    { id: 4, name: \"Cas\" },\r\n    { id: 5, name: \"Malloy\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let newMsg = {\r\n        id: 6,\r\n        message: action.msgValue,\r\n      };\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, newMsg],\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport let addMessageActionCreator = (msgValue) => {\r\n  return {\r\n    type: ADD_MESSAGE,\r\n    msgValue: msgValue\r\n  };\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1aJyv\",\"item\":\"Nav_item__2IngN\",\"active\":\"Nav_active__2QlSR\"};","module.exports = \"data:image/jpeg;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_spinner\":\"Loader_lds_spinner__3SQtW\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"2a1ab102-bb44-4bb7-a7eb-1579d7ea6c77\",\r\n  },\r\n});\r\n\r\nexport const userAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe})\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  }\r\n};\r\n\r\n// export const userFollowAPI = {\r\n//     getFollow(id) {\r\n//         return instance.post(`follow/${user.id}`)\r\n//             .then(response => {\r\n//                 return response.data\r\n//             });\r\n//     }\r\n// }\r\n","import React from 'react';\r\nimport  s from'./Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FriendsOnline from '../FriendsOnline/FriendsOnline';\r\n\r\nconst Nav = (props) => {\r\n\r\n  // let friendsOnline = \r\n  // props.state.profilePage.friendsOnline.map( (friend) =>  <FriendsOnline name = {friend.name} id={friend.id} />);\r\n\r\n    return (\r\n        <nav className = {s.nav}>\r\n        <div className={s.item}>\r\n        <NavLink to = \"/profile\" activeClassName = {s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to = \"/dialogs\" activeClassName = {s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n        <NavLink to = \"/users\" activeClassName = {s.active}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n        <NavLink to = \"/news\" activeClassName = {s.active}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n        <NavLink to = \"/music\" activeClassName = {s.active}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n        <NavLink to = \"/settings\" activeClassName = {s.active}>Settings</NavLink>\r\n        </div>\r\n        {/* {friendsOnline}\r\n        <FriendsOnline  state = {props.state.profilePage.friendsOnline}/> */}\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import { userAPI } from \"../Api/Api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IN_FOLLOWING_PROGRESS = \"TOGGLE_IN_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  newPostText: \"Write your post here\",\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_IN_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users: users,\r\n  };\r\n};\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n  };\r\n};\r\n\r\nexport const setTotalUsersCount = (count) => {\r\n  return {\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: count,\r\n  };\r\n};\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n  return {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching,\r\n  };\r\n};\r\n\r\nexport const toggleInFollowingProgress = (isFetching, userId) => {\r\n  return {\r\n    type: TOGGLE_IN_FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage)); // ваще мыслей об этом не было, что именно так и именно тут надо написать это для выделения активной страницы\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    userAPI.getUsers(currentPage, pageSize).then((data) => {\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n    });\r\n  };\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleInFollowingProgress(true, userId));\r\n    userAPI.follow(userId).then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n      }\r\n      dispatch(toggleInFollowingProgress(false, userId));\r\n    });\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleInFollowingProgress(true, userId));\r\n    userAPI.unfollow(userId).then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userId));\r\n      }\r\n      dispatch(toggleInFollowingProgress(false, userId));\r\n    });\r\n  };\r\n};\r\n\r\n\r\n\r\nexport default usersReducer;\r\n","import React from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\nimport { useState } from \"react\";\r\n\r\n\r\nconst Paginator = ({portionSize = 10, ...props}) => {\r\n\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.pagwrap}>\r\n      {\r\n        portionNumber > 1 && \r\n        <button onClick={ () => {setPortionNumber(portionNumber - 1)}}>PREV</button>\r\n      }\r\n      {\r\n        pages\r\n        .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map(page => {\r\n          let spanClass = props.currentPage === page && s.selectedPage\r\n          return (\r\n            <span\r\n              className={spanClass}\r\n              onClick={(e) => {\r\n                props.onPageChanged(page);\r\n              }}\r\n            >\r\n              {page}\r\n            </span>\r\n          );\r\n        })\r\n      }\r\n      {\r\n        portionCount > portionNumber && \r\n        <button onClick={ () => {setPortionNumber(portionNumber + 1)}}>NEXT</button>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n\r\n\r\n\r\n\r\n// import React from \"react\";\r\n// import s from \"./Paginator.module.css\";\r\n\r\n// const Paginator = (props) => {\r\n//   let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n//   let pages = [];\r\n//   for (let i = 1; i <= pagesCount; i++) {\r\n//     pages.push(i);\r\n//   }\r\n\r\n//   return (\r\n//     <div className={s.pagwrap}>\r\n//       {pages.map((page) => {\r\n//         return (\r\n//           <span\r\n//             className={props.currentPage === page && s.selectedPage}\r\n//             onClick={(e) => {\r\n//               props.onPageChanged(page);\r\n//             }}\r\n//           >\r\n//             {page}\r\n//           </span>\r\n//         );\r\n//       })}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Paginator;","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport avatar from \"../../img/avatar.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"./Paginator/Paginator\";\r\n\r\nconst Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, ...props}) => {\r\n\r\n  return (\r\n    <div className={s.users}>\r\n\r\n      <Paginator \r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        />\r\n\r\n      {props.users.map((user) => (\r\n        <div key={user.id}>\r\n          <span>\r\n            <div>\r\n              <NavLink to={\"/profile/\" + user.id}>\r\n                <img\r\n                  src={user.photos.small != null ? user.photos.small : avatar}\r\n                  alt=\"avatar\"\r\n                  className={s.avatar}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ? (\r\n                <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                  onClick={() => {\r\n                    props.unfollow(user.id);\r\n                  }}\r\n                >\r\n                  UNFOLLOW\r\n                </button>\r\n              ) : (\r\n                <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                  onClick={() => {\r\n                    props.follow(user.id);\r\n                  }\r\n                }\r\n                >\r\n                  FOLLOW\r\n                </button>\r\n              )}\r\n            </div>\r\n          </span>\r\n          <span>\r\n            <span>\r\n              <div>{user.name}</div>\r\n              <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n              <div>{\"user.location.country\"}</div>\r\n              <div>{\"user.location.city\"}</div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setUsers,\r\n  setCurrentPage,\r\n  setTotalUsersCount,\r\n  toggleIsFetching,\r\n  toggleInFollowingProgress,\r\n  getUsersThunkCreator\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../Loader\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n      this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize);\r\n  };\r\n  render() {\r\n    return (\r\n        <>\r\n        { this.props.isFetching ? <Loader /> : null }\r\n      <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        toggleInFollowingProgress={this.props.toggleInFollowingProgress}\r\n        followingInProgress={this.props.followingInProgress}\r\n      />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   };\r\n// };\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\n\r\nexport default compose(\r\n  WithAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    toggleInFollowingProgress,\r\n    getUsers: getUsersThunkCreator,\r\n    })\r\n)(UsersContainer)\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     follow: (userId) => {\r\n//       dispatch(follow(userId));\r\n//     },\r\n//     unfollow: (userId) => {\r\n//       dispatch(unfollow(userId));\r\n//     },\r\n//     setUsers: (users) => {\r\n//       dispatch(setUsers(users));\r\n//     },\r\n//     setCurrentPage: (pageNumber) => {\r\n//       dispatch(setCurrentPage(pageNumber));\r\n//     },\r\n//     setTotalUsersCount: (totalCount) => {\r\n//       dispatch(setTotalUsersCount(totalCount));\r\n//     },\r\n//     toggleIsFetching: (isFetching) => {\r\n//         dispatch(toggleIsFetching(isFetching));\r\n//     }\r\n//   };\r\n// };\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className = {s.header}>\r\n        <img src = 'https://raw.githubusercontent.com/reduxjs/redux/master/logo/logo-title-dark.png' alt = 'logo'></img>\r\n        <div className = {s.loginBlock}>\r\n          { \r\n          props.isAuth \r\n          ? <div> {props.login}<div><button onClick={props.logout} className={s.logoutBtn}>Log out</button></div> </div>\r\n          : <NavLink to = {'/login'}>Login</NavLink>}\r\n          \r\n        </div>\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../Api/Api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"social-network/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n  };\r\n};\r\n\r\nexport const authMe = () => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n          let { id, login, email  } = response.data.data;\r\n          dispatch(setAuthUserData(id, login, email, true));\r\n        }\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n        if (response.data.resultCode === 0) {\r\n          dispatch(authMe())\r\n        } else {\r\n          let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n          dispatch(stopSubmit(\"login\", {_error: message}));\r\n        }\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n          dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { Input } from \"../Common/FormsControl/FormsControl\";\r\nimport { required, maxLengthCreator } from \"../../Utils/Validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/authReducer\";\r\nimport s from \"./Login.module.css\";\r\nimport style from \"../Common/FormsControl/FormsControl.module.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst maxLength40 = maxLengthCreator(40);\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field className={s.authInput} placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required, maxLength40]}/>\r\n      </div>\r\n      <div>\r\n        <Field className={s.authInput} placeholder={\"Password\"} name={\"password\"} type=\"password\" component={Input} validate={[required, maxLength40]}/>\r\n      </div>\r\n      <div>\r\n        <Field className={s.authRemember} type={\"checkbox\"} name={\"rememberMe\"} component={Input} /> <span>Remember Me</span>\r\n      </div>\r\n      {\r\n        props.error && <div className={style.form__summary__error}>\r\n          {props.error}\r\n      </div>\r\n      }\r\n      \r\n      <div>\r\n        <button className={s.authBtn}>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth) {\r\n      return <Redirect to={\"/profile\"} />\r\n    } else {\r\n      return (\r\n    <div>\r\n      <h1>LOGIIIIIIIIIIIINNNNNNNNNNNNNN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { login})(Login);\r\n","import { authMe } from \"./authReducer\";\r\n\r\nconst SET_INIT_SUCCESS = \"SET_INIT_SUCCESS\";\r\n\r\nlet initialState = {\r\n  init: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INIT_SUCCESS: \r\n      return {\r\n        ...state,\r\n        init: true,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setInitSuccess = () => {\r\n  return {\r\n    type: SET_INIT_SUCCESS,\r\n  }\r\n}\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(authMe());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitSuccess());\r\n    }); \r\n  }\r\n}\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav/Nav.jsx\";\n\nimport News from \"./components/News/News\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\n\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport { authMe } from \"./redux/authReducer\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/appReducer\";\nimport Loader from \"./components/Loader\";\nimport { Suspense } from \"react\";\n\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\n\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n}\n\n  render() {\n\n    if(this.props.initialized) {\n      return <Loader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/profile/:userId?\"\n            render={() => {\n              return <Suspense fallback={<div>Loading...</div>}>\n              <ProfileContainer store={this.props.store} />\n              </Suspense>\n            }\n            }/>\n          <Route\n            path=\"/dialogs\"\n            render={() => {\n              return <Suspense fallback={<div>Loading...</div>}>\n              <DialogsContainer store={this.props.store} />\n              </Suspense>\n            }\n            }/>\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/news\" component={News} />\n          <Route path=\"/music\" component={Music} />\n          <Route path=\"/settings\" component={Settings} />\n          <Route path=\"/login\" component={Login} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n","\r\nlet initialState = {\r\n    \r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './appReducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from './redux/redux-store';\nimport { Provider } from \"react-redux\";\n// {addPost, updateNewPostText, addMessage, updateNewMsg, subscribe}\n\nlet rerenderEntireTree = () => {\n    ReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n    <App />\n        </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\"));\n}\n\nrerenderEntireTree();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FriendsOnlineWrapper\":\"FriendsOnline_FriendsOnlineWrapper__Rzgiw\",\"dots\":\"FriendsOnline_dots__2AQ2T\",\"dot\":\"FriendsOnline_dot__1wqz6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2gSFF\",\"error\":\"FormsControl_error__3Iu3O\",\"form__summary__error\":\"FormsControl_form__summary__error__3FTXG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authInput\":\"Login_authInput__3xoTO\",\"authRemember\":\"Login_authRemember__18THi\",\"authBtn\":\"Login_authBtn__1Ct2M\"};","import React from 'react';\r\nimport s from './Loader.module.css';\r\n\r\n\r\nconst Loader = (props) => {\r\n    return (\r\n        <div className={s.lds_spinner}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import React from \"react\";\r\nimport s from \"./FormsControl.module.css\";\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n      <div>\r\n        { props.children }\r\n      </div>\r\n\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n const {input, meta, child, ...restProps} = props;\r\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n\r\n};\r\n\r\nexport const Input = (props) => {\r\n const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n  };\r\n\r\n\r\n","export const required = (value) => {\r\n    if(value) {\r\n        return undefined\r\n    } else {\r\n        return 'Field is Required';\r\n    }\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) {\r\n        return `Max Length is ${maxLength} characters`;\r\n    } else {\r\n        return undefined;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lRYd\",\"loginBlock\":\"Header_loginBlock__3ANE-\",\"logoutBtn\":\"Header_logoutBtn__4oWI_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3odKO\",\"avatar\":\"Users_avatar__2JRuD\",\"loader\":\"Users_loader__1SV51\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__vVY75\",\"pagwrap\":\"Paginator_pagwrap__33gi3\",\"paginators\":\"Paginator_paginators__2GrCh\",\"pageNumber\":\"Paginator_pageNumber__2hjbQ\"};","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return{\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  };\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (this.props.isAuth === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      return <Component {...this.props}/>;\r\n    }\r\n  }\r\n\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};","import { profileAPI } from \"../Api/Api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\n// const SET_UPDATE_STATUS = \"SET_UPDATE_STATUS\";\r\n\r\nlet initialState = {\r\n    postData: [\r\n      { id: 1, message: \"Hi, how are you\", likeCount: 10 },\r\n      { id: 2, message: \"It is my first post\", likeCount: 20 },\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likeCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        postData: [...state.postData, newPost],\r\n        newPostText: \"\"\r\n      }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status \r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postData: state.postData.filter(post => post.id !== action.postId)\r\n      }\r\n    // case SET_UPDATE_STATUS:\r\n    //   return {\r\n    //     ...state,\r\n    //     status: action.status\r\n    //   }  \r\n    default:\r\n        return state;\r\n  }\r\n};\r\n\r\nexport let addPostActionCreator = (newPostText) => {\r\n    return {\r\n      type: ADD_POST,\r\n      newPostText: newPostText\r\n    }\r\n  }\r\n\r\n  export let setUserProfile = (profile) => {\r\n    return {\r\n      type: SET_USER_PROFILE,\r\n      profile\r\n    }\r\n  }\r\n\r\n  export let setUserStatus = (status) => {\r\n    return {\r\n      type: SET_USER_STATUS,\r\n      status: status\r\n    }\r\n  }\r\n\r\n  export const deletePost = (postId) => {\r\n    return {\r\n      type: DELETE_POST,\r\n      postId: postId\r\n    }\r\n  }\r\n  // export let setUpdateStatus = (status) => {\r\n  //   return {\r\n  //     type: SET_UPDATE_STATUS,\r\n  //     status: status\r\n  //   }\r\n  // }\r\n\r\n  export const getUserProfile = (userId) => {\r\n    return async(dispatch) => {\r\n      let response = await profileAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n  }\r\n\r\n  export const getUserStatus = (userId) => {\r\n    return async(dispatch) => {\r\n      let response = await profileAPI.getStatus(userId);\r\n        dispatch(setUserStatus(response.data));\r\n    }\r\n  }\r\n\r\n  export const updateUserStatus = (status) => {\r\n    return async(dispatch) => {\r\n      let response = await profileAPI.updateStatus(status);\r\n        if(response.data.resultCode === 0) {\r\n          dispatch(setUserStatus(status));\r\n        }\r\n    }\r\n  }\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}